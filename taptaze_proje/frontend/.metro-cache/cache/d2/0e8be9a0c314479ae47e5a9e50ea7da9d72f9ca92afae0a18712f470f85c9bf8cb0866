{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"C:\\\\Users\\\\TALHA\\\\Desktop\\\\Taptaze\\\\taptaze_proje\\\\frontend\\\\contexts\\\\CartContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.CartProvider = CartProvider;\n  exports.useCart = useCart;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var CartContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function CartProvider(_ref) {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n    (0, _react.useEffect)(() => {\n      loadCart();\n    }, []);\n    (0, _react.useEffect)(() => {\n      saveCart();\n    }, [items]);\n    var loadCart = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var savedCart = yield AsyncStorage.default.getItem('@cart');\n          if (savedCart) {\n            setItems(JSON.parse(savedCart));\n          }\n        } catch (error) {\n          console.error('Sepet yüklenirken hata:', error);\n        }\n      });\n      return function loadCart() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var saveCart = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield AsyncStorage.default.setItem('@cart', JSON.stringify(items));\n        } catch (error) {\n          console.error('Sepet kaydedilirken hata:', error);\n        }\n      });\n      return function saveCart() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    // --- KRİTİK DÜZELTME BURADA ---\n    var addItem = product => {\n      setItems(currentItems => {\n        var existingItem = currentItems.find(item => item.id === product.id);\n\n        // Ürün detay sayfasından gelen miktar (quantity) var mı? Yoksa 1 kabul et.\n        // @ts-ignore (Bazı tiplerde quantity property'si görünmeyebilir, bunu yoksayalım)\n        var amountToAdd = product.quantity || 1;\n        if (existingItem) {\n          // Ürün zaten varsa, üzerine gelen miktarı ekle (Eskiden burası +1 idi)\n          return currentItems.map(item => item.id === product.id ? {\n            ...item,\n            quantity: item.quantity + amountToAdd\n          } : item);\n        }\n\n        // Ürün yoksa yeni ekle (Miktarı belirterek)\n        return [...currentItems, {\n          ...product,\n          quantity: amountToAdd\n        }];\n      });\n    };\n    // -----------------------------\n\n    var removeItem = id => {\n      setItems(currentItems => currentItems.filter(item => item.id !== id));\n    };\n    var clearCart = () => {\n      setItems([]);\n    };\n\n    // Toplam Tutar Hesabı\n    var total = items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        items,\n        addItem,\n        removeItem,\n        clearCart,\n        total\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  }\n  _s(CartProvider, \"OFpe5t0oz9MFBJItuO7ZFbxuhyA=\");\n  _c = CartProvider;\n  function useCart() {\n    _s2();\n    var context = (0, _react.useContext)(CartContext);\n    if (context === undefined) {\n      throw new Error('useCart must be used within a CartProvider');\n    }\n    return context;\n  }\n  _s2(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"CartProvider\");\n});","lineCount":129,"map":[[15,2,19,0,"exports"],[15,9,19,0],[15,10,19,0,"CartProvider"],[15,22,19,0],[15,25,19,0,"CartProvider"],[15,37,19,0],[16,2,91,0,"exports"],[16,9,91,0],[16,10,91,0,"useCart"],[16,17,91,0],[16,20,91,0,"useCart"],[16,27,91,0],[17,2,97,1],[17,6,97,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,42,97,1],[17,45,97,1,"require"],[17,52,97,1],[17,53,97,1,"_dependencyMap"],[17,67,97,1],[18,2,97,1],[18,6,97,1,"_asyncToGenerator"],[18,23,97,1],[18,26,97,1,"_interopDefault"],[18,41,97,1],[18,42,97,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,78,97,1],[19,2,97,1],[19,6,97,1,"_babelRuntimeHelpersSlicedToArray"],[19,39,97,1],[19,42,97,1,"require"],[19,49,97,1],[19,50,97,1,"_dependencyMap"],[19,64,97,1],[20,2,97,1],[20,6,97,1,"_slicedToArray"],[20,20,97,1],[20,23,97,1,"_interopDefault"],[20,38,97,1],[20,39,97,1,"_babelRuntimeHelpersSlicedToArray"],[20,72,97,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,2,69],[24,6,2,69,"_reactJsxDevRuntime"],[24,25,2,69],[24,28,2,69,"require"],[24,35,2,69],[24,36,2,69,"_dependencyMap"],[24,50,2,69],[25,2,17,0],[25,6,17,6,"CartContext"],[25,17,17,17],[25,33,17,20],[25,37,17,20,"createContext"],[25,43,17,33],[25,44,17,33,"createContext"],[25,57,17,33],[25,59,17,63,"undefined"],[25,68,17,72],[25,69,17,73],[26,2,19,7],[26,11,19,16,"CartProvider"],[26,23,19,28,"CartProvider"],[26,24,19,28,"_ref"],[26,28,19,28],[26,30,19,74],[27,4,19,74,"_s"],[27,6,19,74],[28,4,19,74],[28,8,19,31,"children"],[28,16,19,39],[28,19,19,39,"_ref"],[28,23,19,39],[28,24,19,31,"children"],[28,32,19,39],[29,4,20,2],[29,8,20,2,"_useState"],[29,17,20,2],[29,20,20,28],[29,24,20,28,"useState"],[29,30,20,36],[29,31,20,36,"useState"],[29,39,20,36],[29,41,20,49],[29,43,20,51],[29,44,20,52],[30,6,20,52,"_useState2"],[30,16,20,52],[30,23,20,52,"_slicedToArray"],[30,37,20,52],[30,38,20,52,"default"],[30,45,20,52],[30,47,20,52,"_useState"],[30,56,20,52],[31,6,20,9,"items"],[31,11,20,14],[31,14,20,14,"_useState2"],[31,24,20,14],[32,6,20,16,"setItems"],[32,14,20,24],[32,17,20,24,"_useState2"],[32,27,20,24],[33,4,22,2],[33,8,22,2,"useEffect"],[33,14,22,11],[33,15,22,11,"useEffect"],[33,24,22,11],[33,26,22,12],[33,32,22,18],[34,6,23,4,"loadCart"],[34,14,23,12],[34,15,23,13],[34,16,23,14],[35,4,24,2],[35,5,24,3],[35,7,24,5],[35,9,24,7],[35,10,24,8],[36,4,26,2],[36,8,26,2,"useEffect"],[36,14,26,11],[36,15,26,11,"useEffect"],[36,24,26,11],[36,26,26,12],[36,32,26,18],[37,6,27,4,"saveCart"],[37,14,27,12],[37,15,27,13],[37,16,27,14],[38,4,28,2],[38,5,28,3],[38,7,28,5],[38,8,28,6,"items"],[38,13,28,11],[38,14,28,12],[38,15,28,13],[39,4,30,2],[39,8,30,8,"loadCart"],[39,16,30,16],[40,6,30,16],[40,10,30,16,"_ref2"],[40,15,30,16],[40,22,30,16,"_asyncToGenerator"],[40,39,30,16],[40,40,30,16,"default"],[40,47,30,16],[40,49,30,19],[40,62,30,31],[41,8,31,4],[41,12,31,8],[42,10,32,6],[42,14,32,12,"savedCart"],[42,23,32,21],[42,32,32,30,"AsyncStorage"],[42,44,32,42],[42,45,32,42,"default"],[42,52,32,42],[42,53,32,43,"getItem"],[42,60,32,50],[42,61,32,51],[42,68,32,58],[42,69,32,59],[43,10,33,6],[43,14,33,10,"savedCart"],[43,23,33,19],[43,25,33,21],[44,12,34,8,"setItems"],[44,20,34,16],[44,21,34,17,"JSON"],[44,25,34,21],[44,26,34,22,"parse"],[44,31,34,27],[44,32,34,28,"savedCart"],[44,41,34,37],[44,42,34,38],[44,43,34,39],[45,10,35,6],[46,8,36,4],[46,9,36,5],[46,10,36,6],[46,17,36,13,"error"],[46,22,36,18],[46,24,36,20],[47,10,37,6,"console"],[47,17,37,13],[47,18,37,14,"error"],[47,23,37,19],[47,24,37,20],[47,49,37,45],[47,51,37,47,"error"],[47,56,37,52],[47,57,37,53],[48,8,38,4],[49,6,39,2],[49,7,39,3],[50,6,39,3],[50,22,30,8,"loadCart"],[50,30,30,16,"loadCart"],[50,31,30,16],[51,8,30,16],[51,15,30,16,"_ref2"],[51,20,30,16],[51,21,30,16,"apply"],[51,26,30,16],[51,33,30,16,"arguments"],[51,42,30,16],[52,6,30,16],[53,4,30,16],[53,7,39,3],[54,4,41,2],[54,8,41,8,"saveCart"],[54,16,41,16],[55,6,41,16],[55,10,41,16,"_ref3"],[55,15,41,16],[55,22,41,16,"_asyncToGenerator"],[55,39,41,16],[55,40,41,16,"default"],[55,47,41,16],[55,49,41,19],[55,62,41,31],[56,8,42,4],[56,12,42,8],[57,10,43,6],[57,16,43,12,"AsyncStorage"],[57,28,43,24],[57,29,43,24,"default"],[57,36,43,24],[57,37,43,25,"setItem"],[57,44,43,32],[57,45,43,33],[57,52,43,40],[57,54,43,42,"JSON"],[57,58,43,46],[57,59,43,47,"stringify"],[57,68,43,56],[57,69,43,57,"items"],[57,74,43,62],[57,75,43,63],[57,76,43,64],[58,8,44,4],[58,9,44,5],[58,10,44,6],[58,17,44,13,"error"],[58,22,44,18],[58,24,44,20],[59,10,45,6,"console"],[59,17,45,13],[59,18,45,14,"error"],[59,23,45,19],[59,24,45,20],[59,51,45,47],[59,53,45,49,"error"],[59,58,45,54],[59,59,45,55],[60,8,46,4],[61,6,47,2],[61,7,47,3],[62,6,47,3],[62,22,41,8,"saveCart"],[62,30,41,16,"saveCart"],[62,31,41,16],[63,8,41,16],[63,15,41,16,"_ref3"],[63,20,41,16],[63,21,41,16,"apply"],[63,26,41,16],[63,33,41,16,"arguments"],[63,42,41,16],[64,6,41,16],[65,4,41,16],[65,7,47,3],[67,4,49,2],[68,4,50,2],[68,8,50,8,"addItem"],[68,15,50,15],[68,18,50,19,"product"],[68,25,50,35],[68,29,50,40],[69,6,51,4,"setItems"],[69,14,51,12],[69,15,51,14,"currentItems"],[69,27,51,26],[69,31,51,31],[70,8,52,6],[70,12,52,12,"existingItem"],[70,24,52,24],[70,27,52,27,"currentItems"],[70,39,52,39],[70,40,52,40,"find"],[70,44,52,44],[70,45,52,46,"item"],[70,49,52,50],[70,53,52,55,"item"],[70,57,52,59],[70,58,52,60,"id"],[70,60,52,62],[70,65,52,67,"product"],[70,72,52,74],[70,73,52,75,"id"],[70,75,52,77],[70,76,52,78],[72,8,54,6],[73,8,55,6],[74,8,56,6],[74,12,56,12,"amountToAdd"],[74,23,56,23],[74,26,56,26,"product"],[74,33,56,33],[74,34,56,34,"quantity"],[74,42,56,42],[74,46,56,46],[74,47,56,47],[75,8,58,6],[75,12,58,10,"existingItem"],[75,24,58,22],[75,26,58,24],[76,10,59,8],[77,10,60,8],[77,17,60,15,"currentItems"],[77,29,60,27],[77,30,60,28,"map"],[77,33,60,31],[77,34,60,33,"item"],[77,38,60,37],[77,42,61,10,"item"],[77,46,61,14],[77,47,61,15,"id"],[77,49,61,17],[77,54,61,22,"product"],[77,61,61,29],[77,62,61,30,"id"],[77,64,61,32],[77,67,62,14],[78,12,62,16],[78,15,62,19,"item"],[78,19,62,23],[79,12,62,25,"quantity"],[79,20,62,33],[79,22,62,35,"item"],[79,26,62,39],[79,27,62,40,"quantity"],[79,35,62,48],[79,38,62,51,"amountToAdd"],[80,10,62,63],[80,11,62,64],[80,14,63,14,"item"],[80,18,64,8],[80,19,64,9],[81,8,65,6],[83,8,67,6],[84,8,68,6],[84,15,68,13],[84,16,68,14],[84,19,68,17,"currentItems"],[84,31,68,29],[84,33,68,31],[85,10,68,33],[85,13,68,36,"product"],[85,20,68,43],[86,10,68,45,"quantity"],[86,18,68,53],[86,20,68,55,"amountToAdd"],[87,8,68,67],[87,9,68,68],[87,10,68,69],[88,6,69,4],[88,7,69,5],[88,8,69,6],[89,4,70,2],[89,5,70,3],[90,4,71,2],[92,4,73,2],[92,8,73,8,"removeItem"],[92,18,73,18],[92,21,73,22,"id"],[92,23,73,32],[92,27,73,37],[93,6,74,4,"setItems"],[93,14,74,12],[93,15,74,14,"currentItems"],[93,27,74,26],[93,31,74,31,"currentItems"],[93,43,74,43],[93,44,74,44,"filter"],[93,50,74,50],[93,51,74,52,"item"],[93,55,74,56],[93,59,74,61,"item"],[93,63,74,65],[93,64,74,66,"id"],[93,66,74,68],[93,71,74,73,"id"],[93,73,74,75],[93,74,74,76],[93,75,74,77],[94,4,75,2],[94,5,75,3],[95,4,77,2],[95,8,77,8,"clearCart"],[95,17,77,17],[95,20,77,20,"clearCart"],[95,21,77,20],[95,26,77,26],[96,6,78,4,"setItems"],[96,14,78,12],[96,15,78,13],[96,17,78,15],[96,18,78,16],[97,4,79,2],[97,5,79,3],[99,4,81,2],[100,4,82,2],[100,8,82,8,"total"],[100,13,82,13],[100,16,82,16,"items"],[100,21,82,21],[100,22,82,22,"reduce"],[100,28,82,28],[100,29,82,29],[100,30,82,30,"sum"],[100,33,82,33],[100,35,82,35,"item"],[100,39,82,39],[100,44,82,44,"sum"],[100,47,82,47],[100,50,82,51,"item"],[100,54,82,55],[100,55,82,56,"price"],[100,60,82,61],[100,63,82,64,"item"],[100,67,82,68],[100,68,82,69,"quantity"],[100,76,82,78],[100,78,82,80],[100,79,82,81],[100,80,82,82],[101,4,84,2],[101,24,85,4],[101,28,85,4,"_reactJsxDevRuntime"],[101,47,85,4],[101,48,85,4,"jsxDEV"],[101,54,85,4],[101,56,85,5,"CartContext"],[101,67,85,16],[101,68,85,17,"Provider"],[101,76,85,25],[102,6,85,26,"value"],[102,11,85,31],[102,13,85,33],[103,8,85,35,"items"],[103,13,85,40],[104,8,85,42,"addItem"],[104,15,85,49],[105,8,85,51,"removeItem"],[105,18,85,61],[106,8,85,63,"clearCart"],[106,17,85,72],[107,8,85,74,"total"],[108,6,85,80],[108,7,85,82],[109,6,85,82,"children"],[109,14,85,82],[109,16,86,7,"children"],[110,4,86,15],[111,6,86,15,"fileName"],[111,14,86,15],[111,16,86,15,"_jsxFileName"],[111,28,86,15],[112,6,86,15,"lineNumber"],[112,16,86,15],[113,6,86,15,"columnNumber"],[113,18,86,15],[114,4,86,15],[114,11,87,26],[114,12,87,27],[115,2,89,0],[116,2,89,1,"_s"],[116,4,89,1],[116,5,19,16,"CartProvider"],[116,17,19,28],[117,2,19,28,"_c"],[117,4,19,28],[117,7,19,16,"CartProvider"],[117,19,19,28],[118,2,91,7],[118,11,91,16,"useCart"],[118,18,91,23,"useCart"],[118,19,91,23],[118,21,91,26],[119,4,91,26,"_s2"],[119,7,91,26],[120,4,92,2],[120,8,92,8,"context"],[120,15,92,15],[120,18,92,18],[120,22,92,18,"useContext"],[120,28,92,28],[120,29,92,28,"useContext"],[120,39,92,28],[120,41,92,29,"CartContext"],[120,52,92,40],[120,53,92,41],[121,4,93,2],[121,8,93,6,"context"],[121,15,93,13],[121,20,93,18,"undefined"],[121,29,93,27],[121,31,93,29],[122,6,94,4],[122,12,94,10],[122,16,94,14,"Error"],[122,21,94,19],[122,22,94,20],[122,66,94,64],[122,67,94,65],[123,4,95,2],[124,4,96,2],[124,11,96,9,"context"],[124,18,96,16],[125,2,97,0],[126,2,97,1,"_s2"],[126,5,97,1],[126,6,91,16,"useCart"],[126,13,91,23],[127,2,91,23],[127,6,91,23,"_c"],[127,8,91,23],[128,2,91,23,"$RefreshReg$"],[128,14,91,23],[128,15,91,23,"_c"],[128,17,91,23],[129,0,91,23],[129,3]],"functionMap":{"names":["<global>","CartProvider","useEffect$argument_0","loadCart","saveCart","addItem","setItems$argument_0","currentItems.find$argument_0","currentItems.map$argument_0","removeItem","currentItems.filter$argument_0","clearCart","items.reduce$argument_0","useCart"],"mappings":"AAA;OCkB;YCG;GDE;YCE;GDE;mBEE;GFS;mBGE;GHM;kBIG;aCC;6CCC,gCD;gCEQ;kBFG;KDM;GJC;qBQG;aHC,sCI,wBJ,CG;GRC;oBUE;GVE;6BWG,iDX;CDO;OaE"},"hasCjsExports":false},"type":"js/module"}]}